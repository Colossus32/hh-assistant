# –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ –≤ –ø–ª–∞–Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ (MVP + —É–ª—É—á—à–µ–Ω–∏—è):

1. ‚úÖ **MVP –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** - –≤—Å–µ 12 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
2. ‚úÖ **KLOGGER –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** - –∑–∞–º–µ–Ω–µ–Ω SLF4J –Ω–∞ KLOGGER
3. ‚úÖ **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è** - —Å–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è:
   - `OllamaException` (AnalysisException, ConnectionException, ParsingException, CoverLetterGenerationException)
   - `HHAPIException` (ConnectionException, RateLimitException, NotFoundException, UnauthorizedException, APIException)
   - `TelegramException` (ConnectionException, InvalidChatException, RateLimitException, APIException)
   - `VacancyProcessingException`
4. ‚úÖ **–¢–µ—Å—Ç—ã –¥–ª—è VacancyService** - 8 —Ç–µ—Å—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ
5. ‚úÖ **–¢–µ—Å—Ç—ã –¥–ª—è VacancySchedulerService** - 7 —Ç–µ—Å—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–æ
6. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –≤ –∫–ª–∏–µ–Ω—Ç–∞—Ö –∏ —Å–µ—Ä–≤–∏—Å–∞—Ö

## ‚ö†Ô∏è –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–ª—è production):

### 1. Rate Limiting –¥–ª—è HH.ru API ‚ö†Ô∏è –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ï –ö–†–ò–¢–ò–ß–ù–û–ï
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üî¥ –í—ã—Å–æ–∫–∏–π  
**–í—Ä–µ–º—è**: 6-8 —á–∞—Å–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –î–æ–±–∞–≤–∏—Ç—å rate limiter –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ HH.ru API
- –û—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bucket4j –∏–ª–∏ Resilience4j RateLimiter
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–≤–æ—Ç

**–§–∞–π–ª—ã:**
- `src/main/kotlin/com/hhassistant/ratelimit/RateLimitService.kt`
- `src/main/kotlin/com/hhassistant/ratelimit/RateLimitConfig.kt`

### 2. –†–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–π
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è**: 4-6 —á–∞—Å–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å coroutines –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–π
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ LLM (semaphore)
- Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `VacancySchedulerService` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `coroutineScope` –∏ `async`
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `app.analysis.max-concurrent-requests`

### 3. –í—ã–Ω–æ—Å –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è**: 2-3 —á–∞—Å–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –°–æ–∑–¥–∞—Ç—å `PromptConfig` –∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `application.yml`
- –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∞–∫–∞–Ω—Å–∏–π
- –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ cover letter
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

**–§–∞–π–ª—ã:**
- `src/main/kotlin/com/hhassistant/config/PromptConfig.kt`
- –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é `app.prompts` –≤ `application.yml`

### 4. Health Checks –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü° –°—Ä–µ–¥–Ω–∏–π  
**–í—Ä–µ–º—è**: 3-4 —á–∞—Å–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- Health check –¥–ª—è Ollama (–ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)
- Health check –¥–ª—è HH.ru API
- Health check –¥–ª—è Telegram API
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Spring Boot Actuator

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `spring-boot-starter-actuator`

**–§–∞–π–ª—ã:**
- `src/main/kotlin/com/hhassistant/health/OllamaHealthIndicator.kt`
- `src/main/kotlin/com/hhassistant/health/HHAPIHealthIndicator.kt`
- `src/main/kotlin/com/hhassistant/health/TelegramHealthIndicator.kt`

## üìã –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):

### 5. Caching Layer
**–°—Ç–∞—Ç—É—Å**: üìã –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è**: 8-10 —á–∞—Å–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—é–º–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ AI-–∞–Ω–∞–ª–∏–∑–∞ (–µ—Å–ª–∏ –≤–∞–∫–∞–Ω—Å–∏—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å)
- TTL –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 6. Circuit Breaker Pattern
**–°—Ç–∞—Ç—É—Å**: üìã –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è**: 4-6 —á–∞—Å–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- Resilience4j Circuit Breaker –¥–ª—è HH.ru API
- Circuit Breaker –¥–ª—è Ollama API
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
- Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã

### 7. REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
**–°—Ç–∞—Ç—É—Å**: üìã –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è**: 6-8 —á–∞—Å–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- `POST /api/vacancies/check` - —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–π
- `GET /api/vacancies/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤–∞–∫–∞–Ω—Å–∏—è–º
- `GET /api/vacancies/relevant` - —Å–ø–∏—Å–æ–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π
- `POST /api/search-configs` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –ø–æ–∏—Å–∫–∞
- `GET /api/health` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã

### 8. –£–ª—É—á—à–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Telegram —Å–æ–æ–±—â–µ–Ω–∏–π
**–°—Ç–∞—Ç—É—Å**: üìã –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è**: 2-3 —á–∞—Å–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ë–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Inline –∫–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (–æ—Ç–∫—Ä—ã—Ç—å, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –≤–∞–∫–∞–Ω—Å–∏–π –≤ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ

### 9. –§–∏–ª—å—Ç—Ä—ã –¥–ª—è –≤–∞–∫–∞–Ω—Å–∏–π
**–°—Ç–∞—Ç—É—Å**: üìã –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è**: 4-6 —á–∞—Å–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π
- –§–∏–ª—å—Ç—Ä –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ)
- –§–∏–ª—å—Ç—Ä –ø–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∑–∞—Ä–ø–ª–∞—Ç–µ
- –§–∏–ª—å—Ç—Ä –ø–æ —Ä–µ–≥–∏–æ–Ω—É

### 10. Observability (–º–µ—Ç—Ä–∏–∫–∏, —Ç—Ä–µ–π—Å–∏–Ω–≥)
**–°—Ç–∞—Ç—É—Å**: üìã –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: üü¢ –ù–∏–∑–∫–∏–π  
**–í—Ä–µ–º—è**: 12-16 —á–∞—Å–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- Distributed Tracing (Zipkin –∏–ª–∏ Jaeger)
- Metrics (Micrometer + Prometheus)
- Structured Logging (JSON —Ñ–æ—Ä–º–∞—Ç)
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ health checks

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

- **MVP**: ‚úÖ 100% –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**: ‚úÖ 5 –∏–∑ 6 –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (83%) - –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ Rate Limiting
- **–í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**: ‚ö†Ô∏è 0 –∏–∑ 3 (0%)
- **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**: üìã 0 –∏–∑ 6 (0%)

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

1. **Rate Limiting** (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production)
2. **–†–∞—Å–ø–∞—Ä–∞–ª–ª–µ–ª–∏–≤–∞–Ω–∏–µ** (—É–ª—É—á—à–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
3. **Health Checks** (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)
4. **–í—ã–Ω–æ—Å –ø—Ä–æ–º–ø—Ç–æ–≤** (—É–ª—É—á—à–∏—Ç –≥–∏–±–∫–æ—Å—Ç—å)
5. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ –∂–µ–ª–∞–Ω–∏—é

## ‚è±Ô∏è –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:

- **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ**: ~15-21 —á–∞—Å
- **–í–∞–∂–Ω—ã–µ**: ~14-20 —á–∞—Å–æ–≤
- **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ**: ~36-49 —á–∞—Å–æ–≤
- **–ò—Ç–æ–≥–æ**: ~65-90 —á–∞—Å–æ–≤

