# üèóÔ∏è –û—Å–Ω–æ–≤—ã —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏)
3. [–ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è](#–ø—Ä–æ—Ü–µ—Å—Å-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
4. [–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏](#–∫–ª—é—á–µ–≤—ã–µ-–º–µ—Ç—Ä–∏–∫–∏)
5. [CAP Theorem](#cap-theorem)
6. [–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ](#–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
7. [–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

**–°–∏—Å—Ç–µ–º–Ω—ã–π –¥–∏–∑–∞–π–Ω** - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã:
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
- –†–∞–±–æ—Ç–∞—Ç—å —Å –º–∏–ª–ª–∏–æ–Ω–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ë—ã—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–º–∏ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–º–∏
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ

### –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –±–æ–ª—å—à–∏–µ —Å–∏—Å—Ç–µ–º—ã (Google, Amazon, Netflix)
- –£–º–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã —Å –Ω—É–ª—è
- –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è–º –≤ –∫—Ä—É–ø–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### 1. –ú–æ–Ω–æ–ª–∏—Ç vs –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

#### –ú–æ–Ω–æ–ª–∏—Ç
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Single Application    ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇUser ‚îÇ ‚îÇOrder‚îÇ ‚îÇPay ‚îÇ‚îÇ
‚îÇ  ‚îÇMgmt ‚îÇ ‚îÇMgmt ‚îÇ ‚îÇMgmt‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îÇ      Shared Database    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –¥–µ–ø–ª–æ—è
- –ü—Ä–æ—â–µ –æ—Ç–ª–∞–¥–∫–∞
- –ù–µ—Ç network latency –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**–ú–∏–Ω—É—Å—ã:**
- –°–ª–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏
- –û–¥–∏–Ω –±–∞–≥ –º–æ–∂–µ—Ç —É—Ä–æ–Ω–∏—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
- –°–ª–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

#### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ User    ‚îÇ  ‚îÇ Order   ‚îÇ  ‚îÇ Payment ‚îÇ
‚îÇ Service ‚îÇ  ‚îÇ Service ‚îÇ  ‚îÇ Service ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ            ‚îÇ            ‚îÇ
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
         API Gateway
```

**–ü–ª—é—Å—ã:**
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- –ò–∑–æ–ª—è—Ü–∏—è –æ—à–∏–±–æ–∫

**–ú–∏–Ω—É—Å—ã:**
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏
- Network latency
- Distributed transactions —Å–ª–æ–∂–Ω–µ–µ

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ú–æ–Ω–æ–ª–∏—Ç: —Å—Ç–∞—Ä—Ç–∞–ø, –Ω–µ–±–æ–ª—å—à–∞—è –∫–æ–º–∞–Ω–¥–∞, –ø—Ä–æ—Å—Ç—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã: –±–æ–ª—å—à–∞—è –∫–æ–º–∞–Ω–¥–∞, —Ä–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é, –Ω—É–∂–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è

---

### 2. Load Balancing

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ:** –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

```
        Users
         ‚îÇ
         ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  Load    ‚îÇ
   ‚îÇ Balancer ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚ñº    ‚ñº    ‚ñº
  S1   S2   S3
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏:**
- **Round Robin** - –ø–æ –æ—á–µ—Ä–µ–¥–∏
- **Least Connections** - –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **IP Hash** - –ø–æ —Ö–µ—à—É IP (–¥–ª—è sticky sessions)
- **Weighted** - —Å —É—á–µ—Ç–æ–º –º–æ—â–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

**–ì–¥–µ —Ä–∞–∑–º–µ—â–∞—Ç—å:**
- **DNS Load Balancing** - –Ω–∞ —É—Ä–æ–≤–Ω–µ DNS
- **Hardware Load Balancer** - —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (F5, Citrix)
- **Software Load Balancer** - Nginx, HAProxy

---

### 3. Caching

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–µ–¥–ª–µ–Ω–Ω–∞—è, –∑–∞–ø—Ä–æ—Å—ã –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏—Ç—å —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±—ã—Å—Ç—Ä–æ–π –ø–∞–º—è—Ç–∏

```
User Request
     ‚îÇ
     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     Cache Miss    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Cache  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ Database ‚îÇ
‚îÇ (Redis) ‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     Cache Hit        ‚îÇ
     ‚îÇ                            ‚îÇ
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è:**

1. **Cache-Aside (Lazy Loading)**
   ```
   1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–µ—à
   2. –ï—Å–ª–∏ –Ω–µ—Ç - –∑–∞–ø—Ä–æ—Å–∏—Ç—å –∏–∑ –ë–î
   3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–µ—à
   4. –í–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ
   ```

2. **Write-Through**
   ```
   1. –ó–∞–ø–∏—Å–∞—Ç—å –≤ –ë–î
   2. –ó–∞–ø–∏—Å–∞—Ç—å –≤ –∫–µ—à
   ```

3. **Write-Back (Write-Behind)**
   ```
   1. –ó–∞–ø–∏—Å–∞—Ç—å –≤ –∫–µ—à
   2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –ë–î
   ```

**–ß—Ç–æ –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å:**
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (—Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç—è–∂–µ–ª—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã (CDN)

**–ß—Ç–æ –ù–ï –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å:**
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã)
- –ß–∞—Å—Ç–æ –º–µ–Ω—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ

---

### 4. Database Replication

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–Ω–∞ –ë–î - single point of failure, –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π

**–†–µ—à–µ–Ω–∏–µ:** –ö–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```
         Write
         ‚îÇ
         ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ Master  ‚îÇ
    ‚îÇ   DB    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ Replication
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚ñº    ‚ñº    ‚ñº
  Slave1 Slave2 Slave3
    ‚îÇ     ‚îÇ     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         Read
```

**–¢–∏–ø—ã —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏:**

1. **Master-Slave (Primary-Replica)**
   - Master: —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å
   - Slaves: —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

2. **Master-Master**
   - –û–±–µ –ë–î –ø—Ä–∏–Ω–∏–º–∞—é—Ç –∑–∞–ø–∏—Å—å
   - –°–ª–æ–∂–Ω–µ–µ, –Ω–æ –≤—ã—à–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —á—Ç–µ–Ω–∏—è
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

---

### 5. Database Sharding (–ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

**–ü—Ä–æ–±–ª–µ–º–∞:** –û–¥–Ω–∞ –ë–î –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –æ–±—ä–µ–º–æ–º –¥–∞–Ω–Ω—ã—Ö

**–†–µ—à–µ–Ω–∏–µ:** –†–∞–∑–¥–µ–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ë–î –ø–æ –∫–∞–∫–æ–º—É-—Ç–æ –∫–ª—é—á—É

```
        Users Table
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ User ID: 1-1000  ‚îÇ ‚îÄ‚îÄ‚ñ∫ Shard 1 (DB1)
   ‚îÇ User ID: 1001-   ‚îÇ ‚îÄ‚îÄ‚ñ∫ Shard 2 (DB2)
   ‚îÇ       2000       ‚îÇ
   ‚îÇ User ID: 2001-   ‚îÇ ‚îÄ‚îÄ‚ñ∫ Shard 3 (DB3)
   ‚îÇ       3000       ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —à–∞—Ä–¥–∏–Ω–≥–∞:**

1. **Range-based Sharding**
   - User ID 1-1000 ‚Üí Shard 1
   - User ID 1001-2000 ‚Üí Shard 2
   - –ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

2. **Hash-based Sharding**
   - hash(user_id) % num_shards ‚Üí shard_number
   - –ë–æ–ª–µ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

3. **Directory-based Sharding**
   - –¢–∞–±–ª–∏—Ü–∞ –º–∞–ø–ø–∏–Ω–≥–∞: user_id ‚Üí shard
   - –ì–∏–±–∫–æ, –Ω–æ –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

**–ü—Ä–æ–±–ª–µ–º—ã —à–∞—Ä–¥–∏–Ω–≥–∞:**
- Join –º–µ–∂–¥—É —à–∞—Ä–¥–∞–º–∏ —Å–ª–æ–∂–µ–Ω
- –†–µ—à–∞—Ä–¥–∏–Ω–≥ (–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö) —Å–ª–æ–∂–µ–Ω
- –ù—É–∂–µ–Ω router –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —à–∞—Ä–¥–∞

---

## –ü—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –®–∞–≥ 1: –£—Ç–æ—á–Ω–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ß—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –¥–µ–ª–∞—Ç—å?
- –ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏?

**–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- **–ú–∞—Å—à—Ç–∞–±:** —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π? —Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É?
- **Latency:** –∫–∞–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º–∞?
- **Availability:** –∫–∞–∫–æ–π uptime –Ω—É–∂–µ–Ω? (99.9% = 8.76 —á–∞—Å–æ–≤ downtime –≤ –≥–æ–¥)
- **Consistency:** –Ω–∞—Å–∫–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å?
- **Durability:** –∫–∞–∫ –¥–æ–ª–≥–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?

### –®–∞–≥ 2: –û—Ü–µ–Ω–∫–∞ –º–∞—Å—à—Ç–∞–±–∞

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞:**

–°–∏—Å—Ç–µ–º–∞: 1 –º–∏–ª–ª–∏–æ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, 10% –∞–∫—Ç–∏–≤–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

- DAU (Daily Active Users): 1M
- Concurrent users: 100K
- Requests per user per second: 2
- **Total RPS:** 100K √ó 2 = 200,000 RPS

**–ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞:** –æ–±—ã—á–Ω–æ –≤ 3-5 —Ä–∞–∑ –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–≥–æ
- **Peak RPS:** 200K √ó 3 = 600,000 RPS

**Storage:**
- 1M users √ó 1KB per user = 1GB
- –†–æ—Å—Ç 10% –≤ –º–µ—Å—è—Ü
- –ß–µ—Ä–µ–∑ –≥–æ–¥: ~3.1GB

### –®–∞–≥ 3: High-level –¥–∏–∑–∞–π–Ω

1. –ù–∞—Ä–∏—Å–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
2. –ü–æ–∫–∞–∑–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å API endpoints

### –®–∞–≥ 4: –î–µ—Ç–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω

1. –í—ã–±—Ä–∞—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ü–ª–∞–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –®–∞–≥ 5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

1. –£–∑–∫–∏–µ –º–µ—Å—Ç–∞ (bottlenecks)
2. Single points of failure
3. –ö–∞–∫ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

## –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### Latency (–ó–∞–¥–µ—Ä–∂–∫–∞)

**–ß—Ç–æ —ç—Ç–æ:** –í—Ä–µ–º—è –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –¥–æ –æ—Ç–≤–µ—Ç–∞

**–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- Memory access: 100ns
- SSD read: 100Œºs
- Network (same datacenter): 500Œºs
- Database query: 1-10ms
- API call: 10-100ms

**–ö–∞–∫ —É–ª—É—á—à–∏—Ç—å:**
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

### Throughput (–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å)

**–ß—Ç–æ —ç—Ç–æ:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (RPS - Requests Per Second)

**–ö–∞–∫ —É–≤–µ–ª–∏—á–∏—Ç—å:**
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
- Load balancing

### Availability (–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)

**–ß—Ç–æ —ç—Ç–æ:** –ü—Ä–æ—Ü–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

| Availability | Downtime per year |
|--------------|-------------------|
| 99%          | 3.65 days         |
| 99.9%        | 8.76 hours        |
| 99.99%       | 52.56 minutes     |
| 99.999%      | 5.26 minutes      |

**–ö–∞–∫ –¥–æ—Å—Ç–∏—á—å:**
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è
- Redundancy (—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ)
- Health checks
- Automatic failover

---

## CAP Theorem

**CAP** - Consistency, Availability, Partition tolerance

**–¢–µ–æ—Ä–µ–º–∞:** –í —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ –º–æ–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –∏–∑ 3:

```
        Consistency
            /\
           /  \
          /    \
         /      \
        /        \
Availability ‚îÄ‚îÄ‚îÄ Partition Tolerance
```

### Consistency (–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
–í—Å–µ —É–∑–ª—ã –≤–∏–¥—è—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### Availability (–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)
–°–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã

### Partition Tolerance (–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é)
–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö —Å–±–æ—è—Ö

### –ü—Ä–∏–º–µ—Ä—ã:

**CP (Consistency + Partition Tolerance):**
- PostgreSQL —Å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–µ–π
- MongoDB
- **–ñ–µ—Ä—Ç–≤—É–µ–º:** Availability (–ø—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏ —á–∞—Å—Ç—å —É–∑–ª–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞)

**AP (Availability + Partition Tolerance):**
- Cassandra
- DynamoDB
- **–ñ–µ—Ä—Ç–≤—É–µ–º:** Consistency (eventual consistency)

**CA (Consistency + Availability):**
- –û–±—ã—á–Ω–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ—Ç network partitions

**–ü—Ä–∞–∫—Ç–∏–∫–∞:**
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã: **CP** (–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞)
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏: **AP** (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ)
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º: **AP** —Å eventual consistency

---

## –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### Vertical Scaling (–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ)

**–ß—Ç–æ —ç—Ç–æ:** –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ (CPU, RAM, SSD)

```
Before: 4 CPU, 8GB RAM
After:  16 CPU, 64GB RAM
```

**–ü–ª—é—Å—ã:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é

**–ú–∏–Ω—É—Å—ã:**
- –î–æ—Ä–æ–≥–æ
- –ï—Å—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø—Ä–µ–¥–µ–ª
- Single point of failure

### Horizontal Scaling (–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ)

**–ß—Ç–æ —ç—Ç–æ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–æ–ª—å—à–µ —Å–µ—Ä–≤–µ—Ä–æ–≤

```
Before: 1 server
After:  10 servers
```

**–ü–ª—é—Å—ã:**
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–æ
- –î–µ—à–µ–≤–ª–µ
- –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

**–ú–∏–Ω—É—Å—ã:**
- –°–ª–æ–∂–Ω–µ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –ù—É–∂–µ–Ω load balancer
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é

**–í—ã–≤–æ–¥:** –í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ!

---

## –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### SQL (–†–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ)

**–ü—Ä–∏–º–µ—Ä—ã:** PostgreSQL, MySQL, Oracle

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (ACID)
- –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (JOIN)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ª–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ
- JOIN –º–µ–∂–¥—É —à–∞—Ä–¥–∞–º–∏ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω

### NoSQL

#### Document Store (MongoDB, CouchDB)
- JSON –¥–æ–∫—É–º–µ–Ω—Ç—ã
- –ì–∏–±–∫–∞—è —Å—Ö–µ–º–∞
- –•–æ—Ä–æ—à–æ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∫–∞—Ç–∞–ª–æ–≥–æ–≤

#### Key-Value (Redis, DynamoDB)
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–µ—Å—Å–∏–∏

#### Column Family (Cassandra, HBase)
- –°—Ç–æ–ª–±—Ü—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è
- –û—Ç–ª–∏—á–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ

#### Graph (Neo4j)
- –°–≤—è–∑–∏ –º–µ–∂–¥—É –¥–∞–Ω–Ω—ã–º–∏
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –í—ã–±–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**PostgreSQL –µ—Å–ª–∏:**
- –ù—É–∂–Ω—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞

**MongoDB –µ—Å–ª–∏:**
- –ì–∏–±–∫–∞—è —Å—Ö–µ–º–∞
- –î–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

**Redis –µ—Å–ª–∏:**
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–µ—Å—Å–∏–∏
- Real-time –¥–∞–Ω–Ω—ã–µ
- –û—á–µ—Ä–µ–¥–∏

**Cassandra –µ—Å–ª–∏:**
- –û–≥—Ä–æ–º–Ω—ã–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö
- Write-heavy workload
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–∑—É—á–∏—Ç–µ [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](./SYSTEM_DESIGN_PATTERNS.md)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [–ü–∞—Ç—Ç–µ—Ä–Ω—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è](./SYSTEM_DESIGN_SCALING.md)
3. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –Ω–∞ [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö](./SYSTEM_DESIGN_EXAMPLES.md)

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **Grokking the System Design Interview** - –ª—É—á—à–∞—è –∫–Ω–∏–≥–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞
- **High Scalability** - —Å—Ç–∞—Ç—å–∏ –æ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
- **System Design Primer** –Ω–∞ GitHub
- **YouTube:** "System Design Interview" –∫–∞–Ω–∞–ª—ã